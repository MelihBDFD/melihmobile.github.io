<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="To-Do PRO Mobile">
    <title>üì± To-Do PRO Mobile - Mobil G√∂rev Y√∂neticisi</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì±</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì±</text></svg>">
    <style>
/* ============================================
   MOBILE-ONLY STYLES - Sadece Mobil Cihazlar ƒ∞√ßin
   ============================================ */

/* CSS Variables for Theming - Mobile Optimized */
:root {
    /* Ana renkler */
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --danger-color: #f44336;
    --info-color: #2196f3;

    /* Tema renkleri */
    --bg-primary: #ffffff;
    --bg-secondary: #f8f9fa;
    --bg-tertiary: #e9ecef;
    --text-primary: #212529;
    --text-secondary: #6c757d;
    --text-muted: #adb5bd;
    --border-color: #dee2e6;
    --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.15);
}

/* Tema sƒ±nƒ±flarƒ± - Mobile optimized */
.theme-ocean {
    --primary-color: #2196f3;
    --secondary-color: #21cbf3;
    --bg-primary: #f0f8ff;
    --bg-secondary: #e1f5fe;
    --text-primary: #01579b;
}

.theme-forest {
    --primary-color: #4caf50;
    --secondary-color: #81c784;
    --bg-primary: #f1f8e9;
    --bg-secondary: #e8f5e8;
    --text-primary: #1b5e20;
}

.theme-sunset {
    --primary-color: #ff9800;
    --secondary-color: #ffb74d;
    --bg-primary: #fff8e1;
    --bg-secondary: #fff3c4;
    --text-primary: #e65100;
}

.theme-rose {
    --primary-color: #e91e63;
    --secondary-color: #f06292;
    --bg-primary: #fce4ec;
    --bg-secondary: #f8bbd9;
    --text-primary: #880e4f;
}

.theme-purple {
    --primary-color: #9c27b0;
    --secondary-color: #ba68c8;
    --bg-primary: #f3e5f5;
    --bg-secondary: #e1bee7;
    --text-primary: #4a148c;
}

.theme-midnight {
    --primary-color: #263238;
    --secondary-color: #37474f;
    --bg-primary: #eceff1;
    --bg-secondary: #cfd8dc;
    --text-primary: #000000;
    --text-secondary: #37474f;
}

.theme-cyber {
    --primary-color: #00bcd4;
    --secondary-color: #00e5ff;
    --bg-primary: #e0f7fa;
    --bg-secondary: #b2ebf2;
    --text-primary: #006064;
}

/* ========================================
   MOBILE APP CONTAINER
   ======================================== */

* {
    box-sizing: border-box;
}

html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: var(--bg-primary);
    color: var(--text-primary);
    overflow-x: hidden;
    touch-action: manipulation;
}

.mobile-app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--bg-primary);
    position: relative;
}

/* ========================================
   MOBILE HEADER
   ======================================== */

.mobile-app-header {
    padding: 20px 20px 15px 20px;
    text-align: center;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    box-shadow: var(--shadow);
    position: sticky;
    top: 0;
    z-index: 100;
}

.mobile-view-toggle-container {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.mobile-view-toggle-btn {
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    color: white;
    padding: 10px 14px;
    border-radius: 25px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s ease;
    min-width: 50px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.mobile-view-toggle-btn:hover,
.mobile-view-toggle-btn.active {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-1px);
}

.mobile-app-header h1 {
    font-size: 28px;
    margin: 10px 0 8px 0;
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.mobile-app-header p {
    margin: 0;
    font-size: 16px;
    opacity: 0.9;
    font-weight: 300;
}

/* ========================================
   MOBILE MAIN CONTENT
   ======================================== */

.mobile-main-content {
    flex: 1;
    padding: 20px;
    padding-bottom: 100px; /* FAB i√ßin alan bƒ±rak */
}

.mobile-add-task-section,
.mobile-categories-section,
.mobile-tasks-section,
.mobile-achievements-section {
    margin-bottom: 25px;
}

.mobile-add-task-section h3,
.mobile-categories-section h3,
.mobile-tasks-section h3,
.mobile-achievements-section h3 {
    color: var(--text-primary);
    margin-bottom: 15px;
    font-size: 20px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* ========================================
   MOBILE TASK FORM
   ======================================== */

.mobile-task-form-grid {
    display: grid;
    gap: 12px;
    margin-bottom: 15px;
}

.mobile-task-input,
.mobile-select-input,
.mobile-date-input {
    padding: 14px 16px;
    border: 2px solid var(--border-color);
    border-radius: 12px;
    font-size: 16px;
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: all 0.2s ease;
    width: 100%;
    min-height: 48px;
}

.mobile-task-input:focus,
.mobile-select-input:focus,
.mobile-date-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.mobile-add-btn {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border: none;
    padding: 16px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.2s ease;
    width: 100%;
    min-height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.mobile-add-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.mobile-add-btn:active {
    transform: translateY(0);
}

/* ========================================
   MOBILE TASK OPTIONS
   ======================================== */

.mobile-task-options {
    margin-top: 15px;
    padding: 15px;
    background: var(--bg-secondary);
    border-radius: 12px;
}

.mobile-checkbox-container {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px;
    color: var(--text-primary);
    cursor: pointer;
    user-select: none;
}

.mobile-checkbox-container input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: var(--primary-color);
}

.mobile-recurring-options {
    display: flex;
    gap: 10px;
    margin-top: 12px;
    align-items: center;
}

.mobile-recurring-select,
.mobile-recurring-input {
    padding: 10px 12px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    background: var(--bg-primary);
    color: var(--text-primary);
    flex: 1;
    min-height: 40px;
}

/* ========================================
   MOBILE CATEGORIES
   ======================================== */

.mobile-categories-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.mobile-add-category-btn {
    background: var(--success-color);
    color: white;
    border: none;
    padding: 10px 14px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s ease;
    min-width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-add-category-btn:hover {
    transform: scale(1.05);
    box-shadow: var(--shadow);
}

.mobile-categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
}

.mobile-category-item {
    background: var(--bg-secondary);
    padding: 14px;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 2px solid transparent;
    min-height: 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.mobile-category-item:hover,
.mobile-category-item.active {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.mobile-category-color {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-bottom: 8px;
}

.mobile-category-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
}

.mobile-category-item:hover .mobile-category-name,
.mobile-category-item.active .mobile-category-name {
    color: white;
}

/* ========================================
   MOBILE FILTERS
   ======================================== */

.mobile-filters {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 8px;
    margin-bottom: 20px;
    padding: 16px;
    background: var(--bg-secondary);
    border-radius: 12px;
}

.mobile-filter-btn {
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 10px 8px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
    transition: all 0.2s ease;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-weight: 500;
}

.mobile-filter-btn:hover,
.mobile-filter-btn.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    transform: translateY(-1px);
}

/* ========================================
   MOBILE TASKS
   ======================================== */

.mobile-tasks-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding: 16px;
    background: var(--bg-secondary);
    border-radius: 12px;
}

.mobile-task-stats {
    display: flex;
    gap: 12px;
}

.mobile-stat {
    text-align: center;
    font-size: 16px;
    font-weight: 700;
    color: var(--text-primary);
    min-width: 35px;
}

.mobile-stat.completed {
    color: var(--success-color);
}

.mobile-stat.pending {
    color: var(--warning-color);
}

.mobile-tasks-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.mobile-task-item {
    background: var(--bg-secondary);
    padding: 16px;
    border-radius: 12px;
    border-left: 4px solid var(--primary-color);
    transition: all 0.2s ease;
    position: relative;
}

.mobile-task-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.mobile-task-item.completed {
    opacity: 0.8;
    border-left-color: var(--success-color);
}

.mobile-task-content {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 12px;
}

.mobile-task-checkbox {
    width: 24px;
    height: 24px;
    margin-top: 2px;
    accent-color: var(--primary-color);
}

.mobile-task-text {
    flex: 1;
    font-size: 16px;
    color: var(--text-primary);
    line-height: 1.4;
    word-wrap: break-word;
}

.mobile-task-item.completed .mobile-task-text {
    text-decoration: line-through;
    color: var(--text-secondary);
}

.mobile-task-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 12px;
}

.mobile-priority-badge,
.mobile-category-badge,
.mobile-due-date-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.mobile-priority-badge {
    background: var(--warning-color);
    color: white;
}

.mobile-category-badge {
    color: white;
    font-size: 11px;
}

.mobile-due-date-badge {
    background: var(--bg-primary);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.mobile-due-date-badge.overdue {
    background: var(--danger-color);
    color: white;
}

.mobile-task-actions {
    display: flex;
    gap: 8px;
    padding-top: 12px;
    border-top: 1px solid var(--border-color);
}

.mobile-task-btn {
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    color: var(--text-primary);
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
    flex: 1;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}

.mobile-task-btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow);
}

.mobile-task-btn.edit-btn {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.mobile-task-btn.time-btn {
    background: var(--warning-color);
    color: white;
    border-color: var(--warning-color);
}

.mobile-task-btn.delete-btn {
    background: var(--danger-color);
    color: white;
    border-color: var(--danger-color);
}

/* ========================================
   MOBILE ACHIEVEMENTS
   ======================================== */

.mobile-achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 12px;
}

.mobile-achievement-item {
    background: var(--bg-secondary);
    padding: 14px;
    border-radius: 12px;
    text-align: center;
    border: 2px solid transparent;
    transition: all 0.2s ease;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
}

.mobile-achievement-item.unlocked {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    border-color: #ffc107;
}

.mobile-achievement-item.locked {
    opacity: 0.7;
}

.mobile-achievement-icon {
    font-size: 28px;
    margin-bottom: 8px;
}

.mobile-achievement-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
    line-height: 1.2;
}

.mobile-achievement-progress {
    background: var(--bg-primary);
    height: 4px;
    border-radius: 2px;
    margin-bottom: 6px;
    overflow: hidden;
    width: 100%;
}

.mobile-achievement-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    border-radius: 2px;
    transition: width 0.3s ease;
}

.mobile-achievement-status {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-secondary);
}

.mobile-achievement-item.unlocked .mobile-achievement-status {
    color: var(--success-color);
}

/* ========================================
   MOBILE FAB
   ======================================== */

.mobile-fab-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 100;
}

.mobile-fab {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.3);
}

.mobile-fab:active {
    transform: scale(0.95);
}

/* ========================================
   MOBILE THEME SWITCHER
   ======================================== */

.mobile-theme-switcher {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
}

.mobile-theme-switcher.show {
    opacity: 1;
    visibility: visible;
}

.mobile-theme-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: var(--bg-primary);
    border-bottom: 1px solid var(--border-color);
}

.mobile-theme-header h4 {
    margin: 0;
    color: var(--text-primary);
    font-size: 18px;
    font-weight: 600;
}

.mobile-theme-close {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: var(--text-secondary);
    padding: 5px;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.mobile-theme-close:hover {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.mobile-theme-grid {
    flex: 1;
    padding: 20px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    overflow-y: auto;
}

.mobile-theme-option {
    background: var(--bg-secondary);
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 3px solid transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    min-height: 100px;
}

.mobile-theme-option:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.mobile-theme-option.active {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
}

.mobile-theme-preview {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
}

.mobile-theme-option span {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-primary);
    text-align: center;
}

/* ========================================
   MOBILE AI ASSISTANT
   ======================================== */

.mobile-ai-assistant {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 999;
}

.mobile-ai-toggle {
    width: 55px;
    height: 55px;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    border: none;
    color: white;
    font-size: 22px;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-ai-toggle:hover,
.mobile-ai-toggle.active {
    transform: scale(1.1);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4);
}

.mobile-ai-chat {
    position: fixed;
    bottom: 85px;
    left: 20px;
    width: calc(100vw - 40px);
    max-width: 350px;
    height: 60vh;
    max-height: 400px;
    background: var(--bg-primary);
    border-radius: 16px;
    box-shadow: var(--shadow-lg);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px) scale(0.95);
    transition: all 0.3s ease;
    z-index: 1000;
}

.mobile-ai-chat.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) scale(1);
}

.mobile-ai-chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: white;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.mobile-ai-chat-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.mobile-ai-chat-close {
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease;
}

.mobile-ai-chat-close:hover {
    background: rgba(255, 255, 255, 0.2);
}

.mobile-ai-chat-messages {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
    background: var(--bg-secondary);
}

.mobile-ai-message {
    margin-bottom: 12px;
    display: flex;
    gap: 8px;
}

.mobile-ai-message.user {
    justify-content: flex-end;
}

.mobile-ai-message.ai {
    justify-content: flex-start;
}

.mobile-ai-message-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    flex-shrink: 0;
    align-self: flex-end;
}

.mobile-ai-message.user .mobile-ai-message-avatar {
    background: var(--primary-color);
    order: 2;
}

.mobile-ai-message.ai .mobile-ai-message-avatar {
    background: #ff6b6b;
    order: 1;
}

.mobile-ai-message-content {
    max-width: calc(100% - 40px);
}

.mobile-ai-message.user .mobile-ai-message-content {
    order: 1;
}

.mobile-ai-message.ai .mobile-ai-message-content {
    order: 2;
}

.mobile-ai-message-text {
    background: var(--bg-primary);
    padding: 10px 14px;
    border-radius: 16px;
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
}

.mobile-ai-message.user .mobile-ai-message-text {
    background: var(--primary-color);
    color: white;
    border-bottom-right-radius: 4px;
}

.mobile-ai-message.ai .mobile-ai-message-text {
    background: var(--bg-primary);
    color: var(--text-primary);
    border-bottom-left-radius: 4px;
}

.mobile-ai-message-time {
    font-size: 10px;
    color: var(--text-muted);
    margin-top: 4px;
    text-align: right;
}

.mobile-ai-chat-input-area {
    display: flex;
    gap: 8px;
    padding: 16px;
    background: var(--bg-primary);
    border-top: 1px solid var(--border-color);
}

.mobile-ai-input {
    flex: 1;
    padding: 12px 16px;
    border: 2px solid var(--border-color);
    border-radius: 20px;
    font-size: 14px;
    background: var(--bg-primary);
    color: var(--text-primary);
    outline: none;
}

.mobile-ai-input:focus {
    border-color: var(--primary-color);
}

.mobile-ai-send-btn {
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: white;
    border: none;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-ai-send-btn:hover {
    transform: scale(1.1);
}

/* ========================================
   MOBILE HELP BUTTON
   ======================================== */

.mobile-help-btn {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, #17a2b8, #138496);
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s ease;
    z-index: 995;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-help-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4);
}

/* ========================================
   TOAST NOTIFICATIONS
   ======================================== */

.toast-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10001;
    pointer-events: none;
}

.toast {
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 12px 20px;
    border-radius: 25px;
    margin-bottom: 10px;
    font-size: 14px;
    font-weight: 500;
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(10px);
    opacity: 0;
    transform: translateY(-20px);
    transition: all 0.3s ease;
    text-align: center;
    max-width: 90vw;
    word-wrap: break-word;
}

.toast.show {
    opacity: 1;
    transform: translateY(0);
}

/* ========================================
   MOBILE RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 480px) {
    .mobile-app-header {
        padding: 16px 16px 12px 16px;
    }

    .mobile-app-header h1 {
        font-size: 24px;
    }

    .mobile-main-content {
        padding: 16px;
        padding-bottom: 120px;
    }

    .mobile-theme-grid {
        grid-template-columns: 1fr;
        gap: 12px;
        padding: 16px;
    }

    .mobile-theme-option {
        min-height: 80px;
        padding: 12px;
    }

    .mobile-ai-chat {
        width: calc(100vw - 30px);
        left: 15px;
        bottom: 80px;
        height: 50vh;
    }

    .mobile-fab-container {
        bottom: 15px;
        right: 15px;
    }

    .mobile-fab {
        width: 55px;
        height: 55px;
        font-size: 20px;
    }

    .mobile-help-btn {
        bottom: 75px;
        right: 15px;
        width: 45px;
        height: 45px;
        font-size: 18px;
    }

    .mobile-ai-assistant {
        bottom: 15px;
        left: 15px;
    }

    .mobile-ai-toggle {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    :root {
        --border-color: #000000;
        --text-secondary: #000000;
    }
}

/* Focus indicators */
.mobile-view-toggle-btn:focus,
.mobile-task-input:focus,
.mobile-select-input:focus,
.mobile-date-input:focus,
.mobile-add-btn:focus,
.mobile-filter-btn:focus,
.mobile-task-btn:focus,
.mobile-fab:focus,
.mobile-ai-toggle:focus,
.mobile-help-btn:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

/* ========================================
   MOBILE OPTIMIZATIONS
   ======================================== */

/* Prevent text selection on buttons */
button {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Optimize scrolling */
.mobile-main-content,
.mobile-ai-chat-messages {
    -webkit-overflow-scrolling: touch;
}

/* Prevent zoom on input focus */
input[type="text"],
input[type="date"],
input[type="number"],
select,
textarea {
    font-size: 16px;
}

/* Loading states */
.mobile-task-item.loading {
    opacity: 0.6;
    pointer-events: none;
}

.mobile-task-item.loading::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid var(--border-color);
    border-top: 2px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
    </style>
</head>
<body>
    <div class="mobile-app-container">

        <!-- Mobile Header -->
        <header class="mobile-app-header">
            <div class="mobile-view-toggle-container">
                <button onclick="showMobileLogin()" class="mobile-view-toggle-btn" title="Giri≈ü Yap" id="mobile-login-btn">üîê</button>
                <button onclick="toggleMobileTheme()" class="mobile-view-toggle-btn" title="Tema">üé®</button>
                <button onclick="showMobileSettings()" class="mobile-view-toggle-btn" title="Ayarlar">‚öôÔ∏è</button>
                <button onclick="showMobileStats()" class="mobile-view-toggle-btn" title="ƒ∞statistikler">üìä</button>
            </div>
            <h1>To-Do PRO Mobile</h1>
            <p>Mobil G√∂rev Y√∂netimi Sistemi</p>
        </header>

        <!-- Mobile Main Content -->
        <main class="mobile-main-content">

            <!-- Mobile Add Task -->
            <section class="mobile-add-task-section">
                <h3>üìù Yeni G√∂rev Ekle</h3>
                <div class="mobile-task-form-grid">
                    <input type="text" id="mobile-task-input" class="mobile-task-input" placeholder="G√∂rev metnini yazƒ±n..." onkeypress="handleMobileKeyPress(event)">
                    <select id="mobile-priority-select" class="mobile-select-input">
                        <option value="medium">üü° Orta √ñncelik</option>
                        <option value="high">üî¥ Y√ºksek √ñncelik</option>
                        <option value="low">üü¢ D√º≈ü√ºk √ñncelik</option>
                    </select>
                    <select id="mobile-category-select" class="mobile-select-input">
                        <option value="">üìÇ Kategori Se√ßin</option>
                    </select>
                    <input type="date" id="mobile-due-date-input" class="mobile-date-input">
                    <button onclick="addMobileTask()" class="mobile-add-btn">‚ûï EKLE</button>
                </div>

                <div class="mobile-task-options">
                    <label class="mobile-checkbox-container">
                        <input type="checkbox" id="mobile-recurring-task" onchange="toggleMobileRecurringOptions()">
                        <span>Tekrarlayan g√∂rev</span>
                    </label>
                    <div class="mobile-recurring-options" id="mobile-recurring-options" style="display: none;">
                        <select id="mobile-recurring-type" class="mobile-recurring-select">
                            <option value="daily">G√ºnl√ºk</option>
                            <option value="weekly">Haftalƒ±k</option>
                            <option value="monthly">Aylƒ±k</option>
                        </select>
                        <input type="number" id="mobile-recurring-count" class="mobile-recurring-input" placeholder="Tekrar sayƒ±sƒ±" min="1" value="1">
                    </div>
                </div>
            </section>

            <!-- Mobile Categories -->
            <section class="mobile-categories-section">
                <div class="mobile-categories-header">
                    <h3>üìÇ Kategoriler</h3>
                    <button onclick="showMobileAddCategoryDialog()" class="mobile-add-category-btn">‚ûï</button>
                </div>
                <div class="mobile-categories-grid" id="mobile-categories-container">
                    <!-- Mobile categories will be rendered here -->
                </div>
            </section>

            <!-- Mobile Filters -->
            <div class="mobile-filters">
                <button onclick="setMobileFilter('all')" class="mobile-filter-btn active">T√ºm√º</button>
                <button onclick="setMobileFilter('pending')" class="mobile-filter-btn">Bekleyen</button>
                <button onclick="setMobileFilter('completed')" class="mobile-filter-btn">Tamamlanan</button>
                <button onclick="setMobileFilter('high')" class="mobile-filter-btn">üî¥ Y√ºksek</button>
                <button onclick="setMobileFilter('overdue')" class="mobile-filter-btn">‚è∞ Geciken</button>
            </div>

            <!-- Mobile Tasks -->
            <section class="mobile-tasks-section">
                <div class="mobile-tasks-header">
                    <h3>üìã G√∂revler</h3>
                    <div class="mobile-task-stats">
                        <span class="mobile-stat">Toplam: <span id="mobile-total-count">0</span></span>
                        <span class="mobile-stat completed">Tamamlanan: <span id="mobile-completed-count">0</span></span>
                        <span class="mobile-stat pending">Bekleyen: <span id="mobile-pending-count">0</span></span>
                    </div>
                </div>
                <div class="mobile-tasks-list" id="mobile-tasks-list">
                    <!-- Mobile tasks will be rendered here -->
                </div>
            </section>

            <!-- Mobile Achievements -->
            <section class="mobile-achievements-section">
                <h3>üèÜ Ba≈üarƒ±mlar</h3>
                <div class="mobile-achievements-grid" id="mobile-achievements-container">
                    <!-- Mobile achievements will be rendered here -->
                </div>
            </section>

        </main>

        <!-- Mobile FAB -->
        <div class="mobile-fab-container">
            <button onclick="showMobileQuickActions()" class="mobile-fab" title="Hƒ±zlƒ± ƒ∞≈ülemler">‚ö°</button>
        </div>

        <!-- Mobile Theme Switcher -->
        <div class="mobile-theme-switcher" id="mobile-theme-switcher">
            <div class="mobile-theme-header">
                <h4>üé® Tema Se√ßin</h4>
                <button onclick="closeMobileThemeSwitcher()" class="mobile-theme-close">‚úï</button>
            </div>
            <div class="mobile-theme-grid">
                <div class="mobile-theme-option mobile-theme-original active" onclick="setMobileTheme('original')" title="Orijinal">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #667eea, #764ba2);"></div>
                    <span>Orijinal</span>
                </div>
                <div class="mobile-theme-option mobile-theme-ocean" onclick="setMobileTheme('ocean')" title="Okyanus">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #2196f3, #21cbf3);"></div>
                    <span>Okyanus</span>
                </div>
                <div class="mobile-theme-option mobile-theme-forest" onclick="setMobileTheme('forest')" title="Orman">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #4caf50, #81c784);"></div>
                    <span>Orman</span>
                </div>
                <div class="mobile-theme-option mobile-theme-sunset" onclick="setMobileTheme('sunset')" title="G√ºn Batƒ±mƒ±">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #ff9800, #ffb74d);"></div>
                    <span>G√ºn Batƒ±mƒ±</span>
                </div>
                <div class="mobile-theme-option mobile-theme-rose" onclick="setMobileTheme('rose')" title="G√ºl">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #e91e63, #f06292);"></div>
                    <span>G√ºl</span>
                </div>
                <div class="mobile-theme-option mobile-theme-purple" onclick="setMobileTheme('purple')" title="Mor">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #9c27b0, #ba68c8);"></div>
                    <span>Mor</span>
                </div>
                <div class="mobile-theme-option mobile-theme-midnight" onclick="setMobileTheme('midnight')" title="Gece Yarƒ±sƒ±">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #263238, #37474f);"></div>
                    <span>Gece Yarƒ±sƒ±</span>
                </div>
                <div class="mobile-theme-option mobile-theme-cyber" onclick="setMobileTheme('cyber')" title="Siber">
                    <div class="mobile-theme-preview" style="background: linear-gradient(135deg, #00bcd4, #00e5ff);"></div>
                    <span>Siber</span>
                </div>
            </div>
        </div>

        <!-- Mobile AI Assistant -->
        <div class="mobile-ai-assistant">
            <button onclick="toggleMobileAI()" class="mobile-ai-toggle" title="AI Asistanƒ±" id="mobile-ai-toggle-btn">ü§ñ</button>
        </div>

        <div class="mobile-ai-chat" id="mobile-ai-chat">
            <div class="mobile-ai-chat-header">
                <h3>ü§ñ AI Asistanƒ±</h3>
                <button onclick="toggleMobileAI()" class="mobile-ai-chat-close">‚úï</button>
            </div>
            <div class="mobile-ai-chat-messages" id="mobile-ai-chat-messages"></div>
            <div class="mobile-ai-chat-input-area">
                <input type="text" id="mobile-ai-input" class="mobile-ai-input" placeholder="Sorunuzu yazƒ±n..." onkeypress="handleMobileAIKeyPress(event)">
                <button onclick="sendMobileAIMessage()" class="mobile-ai-send-btn">üì§</button>
            </div>
        </div>

        <!-- Mobile Help Button -->
        <button onclick="showMobileHelp()" class="mobile-help-btn" title="Yardƒ±m">‚ùì</button>

        <!-- Toast Container -->
        <div class="toast-container" id="toast-container"></div>

    </div>

    <script>
// ============================================
// MOBILE-ONLY APP.JS - Sadece Mobil Cihazlar ƒ∞√ßin
// ============================================

// Veri y√∂netimi - Mobile optimized
let tasks = [];
let categories = [];
let achievements = [];
let currentFilter = 'all';
let mobileCurrentFilter = 'all';
let currentUser = null;
let aiConversationHistory = [];

// Ba≈üarƒ±mlarƒ± y√ºkle
function loadAchievements() {
    try {
        const saved = localStorage.getItem('todo_pro_mobile_achievements');
        if (saved) {
            achievements = JSON.parse(saved);
        } else {
            achievements = [
                {
                    id: 'first_task',
                    name: 'ƒ∞lk G√∂rev',
                    description: 'ƒ∞lk g√∂revi tamamla',
                    icon: 'üéØ',
                    requirement: 1,
                    current: 0,
                    unlocked: false,
                    category: 'baslangic'
                },
                {
                    id: 'task_master',
                    name: 'G√∂rev Ustasƒ±',
                    description: '25 g√∂revi tamamla',
                    icon: 'üèÜ',
                    requirement: 25,
                    current: 0,
                    unlocked: false,
                    category: 'tamamlama'
                },
                {
                    id: 'time_tracker',
                    name: 'Zaman Ustasƒ±',
                    description: '5 saat zaman takip et',
                    icon: '‚è±Ô∏è',
                    requirement: 5,
                    current: 0,
                    unlocked: false,
                    category: 'zaman'
                },
                {
                    id: 'category_king',
                    name: 'Kategori Kralƒ±',
                    description: '5 kategori olu≈ütur',
                    icon: 'üëë',
                    requirement: 5,
                    current: 0,
                    unlocked: false,
                    category: 'organizasyon'
                },
                {
                    id: 'perfectionist',
                    name: 'M√ºkemmeliyet√ßi',
                    description: '10 g√∂revi arka arkaya tamamla',
                    icon: 'üíé',
                    requirement: 10,
                    current: 0,
                    unlocked: false,
                    category: 'mukemmelliyet'
                },
                {
                    id: 'early_bird',
                    name: 'Erken Ku≈ü',
                    description: 'Sabah 6-9 arasƒ± g√∂rev tamamla',
                    icon: 'üåÖ',
                    requirement: 5,
                    current: 0,
                    unlocked: false,
                    category: 'zaman'
                }
            ];
        }
    } catch (e) {
        console.error('Ba≈üarƒ±mlar y√ºklenirken hata:', e);
    }
}

// Kategorileri y√ºkle
function loadCategories() {
    try {
        const saved = localStorage.getItem('todo_pro_mobile_categories');
        if (saved) {
            categories = JSON.parse(saved);
        } else {
            categories = [
                {
                    id: 'work',
                    name: 'ƒ∞≈ü',
                    color: '#667eea'
                },
                {
                    id: 'personal',
                    name: 'Ki≈üisel',
                    color: '#4caf50'
                },
                {
                    id: 'shopping',
                    name: 'Alƒ±≈üveri≈ü',
                    color: '#ff9800'
                }
            ];
        }
    } catch (e) {
        console.error('Kategoriler y√ºklenirken hata:', e);
    }
}

// G√∂revleri y√ºkle
function loadTasks() {
    try {
        const saved = localStorage.getItem('todo_pro_mobile_tasks');
        if (saved) {
            tasks = JSON.parse(saved);
        }
    } catch (e) {
        console.error('G√∂revler y√ºklenirken hata:', e);
    }
}

// G√∂revleri kaydet
function saveTasks() {
    try {
        localStorage.setItem('todo_pro_mobile_tasks', JSON.stringify(tasks));
    } catch (e) {
        console.error('G√∂revler kaydedilirken hata:', e);
    }
}

// Kategorileri kaydet
function saveCategories() {
    try {
        localStorage.setItem('todo_pro_mobile_categories', JSON.stringify(categories));
    } catch (e) {
        console.error('Kategoriler kaydedilirken hata:', e);
    }
}

// Ba≈üarƒ±mlarƒ± kaydet
function saveAchievements() {
    try {
        localStorage.setItem('todo_pro_mobile_achievements', JSON.stringify(achievements));
    } catch (e) {
        console.error('Ba≈üarƒ±mlar kaydedilirken hata:', e);
    }
}

// Mobil g√∂rev ekleme
function addMobileTask() {
    const input = document.getElementById('mobile-task-input');
    const prioritySelect = document.getElementById('mobile-priority-select');
    const categorySelect = document.getElementById('mobile-category-select');
    const dueDateInput = document.getElementById('mobile-due-date-input');

    const taskText = input.value.trim();
    const priority = prioritySelect.value;
    const categoryId = categorySelect.value;
    const dueDate = dueDateInput.value ? new Date(dueDateInput.value).toISOString() : null;

    if (taskText) {
        const category = categories.find(c => c.id === categoryId);

        const mainTask = {
            id: Date.now().toString(),
            text: taskText,
            completed: false,
            priority: priority,
            categoryId: categoryId,
            categoryName: category ? category.name : '',
            categoryColor: category ? category.color : '',
            dueDate: dueDate,
            isRecurring: false,
            created: new Date().toISOString(),
            timeSpent: 0,
            comments: []
        };

        // Tekrarlayan g√∂rev kontrol√º
        if (document.getElementById('mobile-recurring-task').checked) {
            const recurringType = document.getElementById('mobile-recurring-type').value;
            const recurringCount = parseInt(document.getElementById('mobile-recurring-count').value) || 1;
            createRecurringTasks(mainTask, recurringType, recurringCount);
        } else {
            tasks.unshift(mainTask);
        }

        saveTasks();
        renderMobileTasks();
        updateMobileStats();
        updateAchievementProgress();

        // Form temizleme
        input.value = '';
        dueDateInput.value = '';
        document.getElementById('mobile-recurring-task').checked = false;
        toggleMobileRecurringOptions();

        showToast(`‚úÖ G√∂rev eklendi!`);

        // Haptic feedback (mobil cihazlarda)
        if ('vibrate' in navigator) {
            navigator.vibrate(50);
        }
    } else {
        showToast('‚ö†Ô∏è L√ºtfen g√∂rev metni girin!');
    }
}

// Tekrarlayan g√∂revleri olu≈ütur
function createRecurringTasks(baseTask, recurringType, count) {
    const baseDate = baseTask.dueDate ? new Date(baseTask.dueDate) : new Date();

    for (let i = 0; i <= count; i++) {
        const recurringTask = { ...baseTask };
        recurringTask.id = `${baseTask.id}_recurring_${i}`;

        // Tarih hesaplamasƒ±
        const taskDate = new Date(baseDate);
        switch (recurringType) {
            case 'daily':
                taskDate.setDate(baseDate.getDate() + i);
                break;
            case 'weekly':
                taskDate.setDate(baseDate.getDate() + (i * 7));
                break;
            case 'monthly':
                taskDate.setMonth(baseDate.getMonth() + i);
                break;
        }

        recurringTask.dueDate = taskDate.toISOString();
        recurringTask.recurringType = recurringType;
        recurringTask.recurringCount = i;

        tasks.unshift(recurringTask);
    }
}

// Mobil g√∂revleri g√∂ster
function renderMobileTasks() {
    const container = document.getElementById('mobile-tasks-list');
    const filteredTasks = getMobileFilteredTasks();

    container.innerHTML = '';

    if (filteredTasks.length === 0) {
        container.innerHTML = `
            <div class="mobile-empty-state">
                <div class="mobile-empty-icon">üìã</div>
                <h3>Hen√ºz g√∂rev yok</h3>
                <p>Yeni g√∂rev eklemek i√ßin yukarƒ±yƒ± kullanƒ±n!</p>
            </div>
        `;
        return;
    }

    filteredTasks.forEach(task => {
        const taskElement = document.createElement('div');
        taskElement.className = `mobile-task-item ${task.completed ? 'completed' : ''}`;

        const priorityClass = `priority-${task.priority || 'medium'}`;
        const isOverdue = task.dueDate && new Date(task.dueDate) < new Date() && !task.completed;

        taskElement.innerHTML = `
            <div class="mobile-task-content">
                <input type="checkbox" class="mobile-task-checkbox" ${task.completed ? 'checked' : ''} onchange="toggleMobileTask('${task.id}')">
                <div class="mobile-task-text">${task.text}</div>
                <div class="mobile-task-meta">
                    <span class="mobile-priority-badge ${priorityClass}">${getPriorityText(task.priority)}</span>
                    ${task.categoryName ? `<span class="mobile-category-badge" style="background: ${task.categoryColor}">${task.categoryName}</span>` : ''}
                    ${task.dueDate ? `<span class="mobile-due-date-badge ${isOverdue ? 'overdue' : ''}">${formatDate(task.dueDate)}</span>` : ''}
                </div>
            </div>
            <div class="mobile-task-actions">
                <button class="mobile-task-btn edit-btn" onclick="editMobileTask('${task.id}')" title="D√ºzenle">‚úèÔ∏è</button>
                <button class="mobile-task-btn time-btn" onclick="trackMobileTime('${task.id}')" title="Zaman Takibi">‚è±Ô∏è</button>
                <button class="mobile-task-btn delete-btn" onclick="deleteMobileTask('${task.id}')" title="Sil">üóëÔ∏è</button>
            </div>
        `;

        container.appendChild(taskElement);
    });
}

// Mobil filtreleme
function getMobileFilteredTasks() {
    let filtered = [...tasks];

    switch (mobileCurrentFilter) {
        case 'completed':
            filtered = tasks.filter(task => task.completed);
            break;
        case 'pending':
            filtered = tasks.filter(task => !task.completed);
            break;
        case 'high':
            filtered = tasks.filter(task => task.priority === 'high');
            break;
        case 'medium':
            filtered = tasks.filter(task => task.priority === 'medium');
            break;
        case 'low':
            filtered = tasks.filter(task => task.priority === 'low');
            break;
        case 'overdue':
            filtered = tasks.filter(task => task.dueDate && new Date(task.dueDate) < new Date() && !task.completed);
            break;
        default:
            if (mobileCurrentFilter && categories.find(c => c.id === mobileCurrentFilter)) {
                filtered = tasks.filter(task => task.categoryId === mobileCurrentFilter);
            }
            break;
    }

    return filtered;
}

// Mobil filtre ayarla
function setMobileFilter(filter) {
    mobileCurrentFilter = filter;

    document.querySelectorAll('.mobile-filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');

    renderMobileTasks();
}

// Mobil kategorileri g√∂ster
function renderMobileCategories() {
    const container = document.getElementById('mobile-categories-container');
    container.innerHTML = '';

    categories.forEach(category => {
        const categoryElement = document.createElement('div');
        categoryElement.className = 'mobile-category-item';
        categoryElement.onclick = () => setMobileFilter(category.id);

        categoryElement.innerHTML = `
            <div class="mobile-category-color" style="background: ${category.color};"></div>
            <div class="mobile-category-name">${category.name}</div>
        `;

        container.appendChild(categoryElement);
    });
}

// Mobil ba≈üarƒ±mlarƒ± g√∂ster
function renderMobileAchievements() {
    const container = document.getElementById('mobile-achievements-container');
    container.innerHTML = '';

    achievements.forEach(achievement => {
        const achievementElement = document.createElement('div');
        achievementElement.className = `mobile-achievement-item ${achievement.unlocked ? 'unlocked' : 'locked'}`;

        const progressPercent = Math.min((achievement.current / achievement.requirement) * 100, 100);

        achievementElement.innerHTML = `
            <div class="mobile-achievement-icon">${achievement.icon}</div>
            <div class="mobile-achievement-name">${achievement.name}</div>
            <div class="mobile-achievement-progress">
                <div class="mobile-achievement-progress-bar" style="width: ${progressPercent}%"></div>
            </div>
            <div class="mobile-achievement-status">
                ${achievement.unlocked ? '‚úÖ' : `${achievement.current}/${achievement.requirement}`}
            </div>
        `;

        container.appendChild(achievementElement);
    });
}

// Mobil kategori se√ßimini g√ºncelle
function updateMobileCategorySelect() {
    const select = document.getElementById('mobile-category-select');
    select.innerHTML = '<option value="">üìÇ Kategori Se√ßin</option>';

    categories.forEach(category => {
        const option = document.createElement('option');
        option.value = category.id;
        option.textContent = category.name;
        select.appendChild(option);
    });
}

// Mobil istatistikleri g√ºncelle
function updateMobileStats() {
    const totalCount = document.getElementById('mobile-total-count');
    const completedCount = document.getElementById('mobile-completed-count');
    const pendingCount = document.getElementById('mobile-pending-count');

    totalCount.textContent = tasks.length;
    completedCount.textContent = tasks.filter(t => t.completed).length;
    pendingCount.textContent = tasks.filter(t => !t.completed).length;
}

// Yardƒ±mcƒ± fonksiyonlar
function toggleMobileRecurringOptions() {
    const checkbox = document.getElementById('mobile-recurring-task');
    const options = document.getElementById('mobile-recurring-options');

    if (checkbox.checked) {
        options.style.display = 'flex';
    } else {
        options.style.display = 'none';
    }
}

function handleMobileKeyPress(event) {
    if (event.key === 'Enter') {
        addMobileTask();
    }
}

function toggleMobileTask(taskId) {
    const task = tasks.find(t => t.id === taskId);
    if (task) {
        task.completed = !task.completed;
        saveTasks();
        renderMobileTasks();
        updateMobileStats();
        updateAchievementProgress();
        showToast(task.completed ? '‚úÖ G√∂rev tamamlandƒ±!' : '‚è≥ G√∂rev aktif!');

        // Haptic feedback
        if ('vibrate' in navigator) {
            navigator.vibrate(50);
        }
    }
}

function deleteMobileTask(taskId) {
    if (confirm('Bu g√∂revi silmek istediƒüinizden emin misiniz?')) {
        tasks = tasks.filter(t => t.id !== taskId);
        saveTasks();
        renderMobileTasks();
        updateMobileStats();
        updateAchievementProgress();
        showToast('üóëÔ∏è G√∂rev silindi!');

        if ('vibrate' in navigator) {
            navigator.vibrate([100, 50, 100]);
        }
    }
}

function editMobileTask(taskId) {
    const task = tasks.find(t => t.id === taskId);
    if (!task) return;

    const newText = prompt('G√∂rev metnini d√ºzenleyin:', task.text);
    if (newText && newText.trim() !== task.text) {
        task.text = newText.trim();
        saveTasks();
        renderMobileTasks();
        showToast('‚úÖ G√∂rev g√ºncellendi!');
    }
}

function trackMobileTime(taskId) {
    const task = tasks.find(t => t.id === taskId);
    if (!task) return;

    if (task.isTracking) {
        const now = Date.now();
        const elapsed = Math.floor((now - task.trackingStart) / 1000 / 60);
        task.timeSpent = (task.timeSpent || 0) + elapsed;
        task.isTracking = false;
        task.trackingStart = null;

        showToast(`‚è±Ô∏è ${elapsed} dakika kaydedildi!`);
    } else {
        task.isTracking = true;
        task.trackingStart = Date.now();
        saveTasks();
        renderMobileTasks();
        updateMobileStats();
    }
}

function showMobileAddCategoryDialog() {
    const categoryName = prompt('Yeni kategori adƒ±nƒ± girin:');
    if (categoryName && categoryName.trim()) {
        const colors = [
            '#667eea', '#4caf50', '#ff9800', '#e91e63', '#9c27b0', '#2196f3',
            '#ff5722', '#795548', '#607d8b', '#3f51b5', '#00bcd4', '#009688',
            '#8bc34a', '#ffc107', '#ff7043', '#f48fb1', '#ce93d8', '#90caf9'
        ];
        const newCategory = {
            id: Date.now().toString(),
            name: categoryName.trim(),
            color: colors[Math.floor(Math.random() * colors.length)]
        };

        categories.push(newCategory);
        saveCategories();
        renderMobileCategories();
        updateMobileCategorySelect();
        showToast(`‚úÖ "${newCategory.name}" kategorisi eklendi!`);
    }
}

// Tema y√∂netimi
function toggleMobileTheme() {
    const switcher = document.getElementById('mobile-theme-switcher');
    switcher.classList.toggle('show');

    if (switcher.classList.contains('show')) {
        setTimeout(() => {
            document.addEventListener('click', closeMobileThemeOnOutsideClick);
        }, 1);
    } else {
        document.removeEventListener('click', closeMobileThemeOnOutsideClick);
    }
}

function closeMobileThemeOnOutsideClick(event) {
    const switcher = document.getElementById('mobile-theme-switcher');
    const themeBtn = document.querySelector('.mobile-view-toggle-btn[title="Tema"]');

    if (!switcher.contains(event.target) && event.target !== themeBtn) {
        switcher.classList.remove('show');
        document.removeEventListener('click', closeMobileThemeOnOutsideClick);
    }
}

function setMobileTheme(themeName) {
    // √ñnceki tema class'ƒ±nƒ± kaldƒ±r
    document.documentElement.className = document.documentElement.className.replace(/theme-\w+/g, '');

    // Yeni tema class'ƒ±nƒ± ekle
    if (themeName !== 'original') {
        document.documentElement.classList.add(`theme-${themeName}`);
    }

    // Tema se√ßici butonlarƒ±nƒ± g√ºncelle
    document.querySelectorAll('.mobile-theme-option').forEach(option => {
        option.classList.remove('active');
    });

    // Aktif tema butonunu i≈üaretle
    const activeThemeBtn = document.querySelector(`.mobile-theme-${themeName}`);
    if (activeThemeBtn) {
        activeThemeBtn.classList.add('active');
    }

    // Tema deƒüi≈ütiriciyi kapat
    const switcher = document.getElementById('mobile-theme-switcher');
    switcher.classList.remove('show');
    document.removeEventListener('click', closeMobileThemeOnOutsideClick);

    // Temayƒ± kaydet
    localStorage.setItem('todo_pro_mobile_theme', themeName);

    showToast(`üé® ${getThemeDisplayName(themeName)} temasƒ± aktif!`);
}

function getThemeDisplayName(themeName) {
    const themeNames = {
        'original': 'Orijinal',
        'ocean': 'Okyanus',
        'forest': 'Orman',
        'sunset': 'G√ºn Batƒ±mƒ±',
        'rose': 'G√ºl',
        'purple': 'Mor',
        'midnight': 'Gece Yarƒ±sƒ±',
        'cyber': 'Siber'
    };
    return themeNames[themeName] || themeName;
}

// Ba≈üarƒ±m ilerlemesini g√ºncelle
function updateAchievementProgress() {
    const completedTasks = tasks.filter(t => t.completed).length;
    const totalTime = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);

    // ƒ∞lk g√∂rev
    if (completedTasks >= 1 && !achievements.find(a => a.id === 'first_task').unlocked) {
        achievements.find(a => a.id === 'first_task').unlocked = true;
        achievements.find(a => a.id === 'first_task').current = 1;
    }

    // G√∂rev ustasƒ±
    achievements.find(a => a.id === 'task_master').current = completedTasks;
    if (completedTasks >= 25 && !achievements.find(a => a.id === 'task_master').unlocked) {
        achievements.find(a => a.id === 'task_master').unlocked = true;
    }

    // Zaman ustasƒ± (saat cinsinden)
    achievements.find(a => a.id === 'time_tracker').current = Math.floor(totalTime / 60);
    if (totalTime >= 300 && !achievements.find(a => a.id === 'time_tracker').unlocked) {
        achievements.find(a => a.id === 'time_tracker').unlocked = true;
    }

    // Kategori kralƒ±
    achievements.find(a => a.id === 'category_king').current = categories.length;
    if (categories.length >= 5 && !achievements.find(a => a.id === 'category_king').unlocked) {
        achievements.find(a => a.id === 'category_king').unlocked = true;
    }

    saveAchievements();
    renderMobileAchievements();
}

// Yardƒ±mcƒ± fonksiyonlar
function getPriorityText(priority) {
    const priorities = {
        'high': 'üî¥ Y√ºksek',
        'medium': 'üü° Orta',
        'low': 'üü¢ D√º≈ü√ºk'
    };
    return priorities[priority] || 'üü° Orta';
}

function formatDate(dateString) {
    const date = new Date(dateString);
    const now = new Date();
    const diffTime = date.getTime() - now.getTime();
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

    if (diffDays < 0) {
        return `‚è∞ ${Math.abs(diffDays)} g√ºn ge√ßti`;
    } else if (diffDays === 0) {
        return 'Bug√ºn';
    } else if (diffDays === 1) {
        return 'Yarƒ±n';
    } else {
        return `${diffDays} g√ºn sonra`;
    }
}

// Toast mesajƒ± g√∂ster
function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = message;

    document.getElementById('toast-container').appendChild(toast);

    setTimeout(() => {
        toast.classList.add('show');
    }, 100);

    setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
            toast.remove();
        }, 300);
    }, 3000);
}

// Hƒ±zlƒ± i≈ülemler men√ºs√º
function showMobileQuickActions() {
    const actions = [
        { icon: 'üìù', text: 'Yeni G√∂rev', action: 'document.getElementById("mobile-task-input").focus()' },
        { icon: 'üìÇ', text: 'Yeni Kategori', action: 'showMobileAddCategoryDialog()' },
        { icon: 'üì§', text: 'Verileri Dƒ±≈üa Aktar', action: 'exportMobileTasks()' },
        { icon: 'üì•', text: 'Verileri ƒ∞√ße Aktar', action: 'importMobileTasks()' },
        { icon: 'üßπ', text: 'Tamamlananlarƒ± Temizle', action: 'clearCompletedMobileTasks()' },
        { icon: 'üìä', text: 'Detaylƒ± ƒ∞statistikler', action: 'showMobileDetailedStats()' },
        { icon: '‚öôÔ∏è', text: 'Ayarlar', action: 'showMobileSettings()' },
        { icon: '‚ùì', text: 'Yardƒ±m', action: 'showMobileHelp()' }
    ];

    let actionsHTML = '<div style="padding: 20px;"><h3 style="color: #667eea; margin-bottom: 20px;">‚ö° Hƒ±zlƒ± ƒ∞≈ülemler</h3><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px;">';

    actions.forEach(action => {
        actionsHTML += `
            <button onclick="${action.action}; closeMobileQuickActions()" style="
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                border: none;
                padding: 15px 10px;
                border-radius: 12px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
                min-height: 80px;
            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <span style="font-size: 20px;">${action.icon}</span>
                <span>${action.text}</span>
            </button>
        `;
    });

    actionsHTML += '</div><div style="margin-top: 20px; text-align: center;"><button onclick="closeMobileQuickActions()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">Kapat</button></div></div>';

    const modal = document.createElement('div');
    modal.id = 'mobile-quick-actions-modal';
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(5px);
    `;
    modal.innerHTML = `<div style="background: white; border-radius: 16px; max-width: 90vw; max-height: 80vh; overflow-y: auto;">${actionsHTML}</div>`;

    document.body.appendChild(modal);
}

function closeMobileQuickActions() {
    const modal = document.getElementById('mobile-quick-actions-modal');
    if (modal) {
        modal.remove();
    }
}

// Veri y√∂netimi fonksiyonlarƒ±
function exportMobileTasks() {
    const data = {
        tasks: tasks,
        categories: categories,
        achievements: achievements,
        exportDate: new Date().toISOString()
    };

    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);

    const a = document.createElement('a');
    a.href = url;
    a.download = `todo_pro_mobile_backup_${new Date().toISOString().split('T')[0]}.json`;
    a.click();

    URL.revokeObjectURL(url);
    showToast('üì§ Veriler dƒ±≈üa aktarƒ±ldƒ±!');
    closeMobileQuickActions();
}

function importMobileTasks() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.json';

    input.onchange = function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                try {
                    const data = JSON.parse(event.target.result);

                    if (data.tasks && Array.isArray(data.tasks)) {
                        tasks = data.tasks;
                        saveTasks();
                    }

                    if (data.categories && Array.isArray(data.categories)) {
                        categories = data.categories;
                        saveCategories();
                    }

                    if (data.achievements && Array.isArray(data.achievements)) {
                        achievements = data.achievements;
                        saveAchievements();
                    }

                    // UI'yi g√ºncelle
                    renderMobileTasks();
                    renderMobileCategories();
                    renderMobileAchievements();
                    updateMobileCategorySelect();
                    updateMobileStats();
                    updateAchievementProgress();

                    showToast('üì• Veriler ba≈üarƒ±yla i√ße aktarƒ±ldƒ±!');
                } catch (error) {
                    showToast('‚ùå Ge√ßersiz dosya formatƒ±!');
                    console.error('ƒ∞√ße aktarma hatasƒ±:', error);
                }
            };
            reader.readAsText(file);
        }
    };

    input.click();
    closeMobileQuickActions();
}

function clearCompletedMobileTasks() {
    if (confirm('Tamamlanan t√ºm g√∂revleri silmek istediƒüinizden emin misiniz?')) {
        tasks = tasks.filter(task => !task.completed);
        saveTasks();
        renderMobileTasks();
        updateMobileStats();
        updateAchievementProgress();
        showToast('üßπ Tamamlanan g√∂revler temizlendi!');
    }
    closeMobileQuickActions();
}

// Ayarlar ve yardƒ±m
function showMobileSettings() {
    const settingsHTML = `
        <div style="padding: 20px;">
            <h3 style="color: #667eea; margin-bottom: 20px;">‚öôÔ∏è Mobil Ayarlar</h3>
            <div style="display: grid; gap: 15px;">
                <button onclick="exportMobileTasks()" style="background: #4caf50; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600;">üì§ Verileri Dƒ±≈üa Aktar</button>
                <button onclick="importMobileTasks()" style="background: #2196f3; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600;">üì• Verileri ƒ∞√ße Aktar</button>
                <button onclick="clearCompletedMobileTasks()" style="background: #ff9800; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600;">üßπ Tamamlananlarƒ± Temizle</button>
                <button onclick="if(confirm('T√úM VERƒ∞LERƒ∞ KALICI OLARAK Sƒ∞LMEK istediƒüinizden emin misiniz?')) { clearAllMobileData(); }" style="background: #f44336; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600;">üíÄ T√ºm Verileri Sil</button>
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <button onclick="closeMobileSettings()" style="background: #6c757d; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">Kapat</button>
            </div>
        </div>
    `;

    const modal = document.createElement('div');
    modal.id = 'mobile-settings-modal';
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(5px);
    `;
    modal.innerHTML = `<div style="background: white; border-radius: 16px; max-width: 90vw; max-height: 80vh; overflow-y: auto;">${settingsHTML}</div>`;

    document.body.appendChild(modal);
    closeMobileQuickActions();
}

function closeMobileSettings() {
    const modal = document.getElementById('mobile-settings-modal');
    if (modal) {
        modal.remove();
    }
}

function clearAllMobileData() {
    if (confirm('T√úM VERƒ∞LERƒ∞ KALICI OLARAK Sƒ∞LMEK istediƒüinizden emin misiniz? Bu i≈ülem geri alƒ±namaz!')) {
        tasks = [];
        categories = [];
        achievements = [];

        localStorage.clear();

        // Temel kategorileri yeniden olu≈ütur
        categories = [
            { id: 'work', name: 'ƒ∞≈ü', color: '#667eea' },
            { id: 'personal', name: 'Ki≈üisel', color: '#4caf50' },
            { id: 'shopping', name: 'Alƒ±≈üveri≈ü', color: '#ff9800' }
        ];

        // Ba≈üarƒ±mlarƒ± yeniden y√ºkle
        loadAchievements();

        saveTasks();
        saveCategories();
        saveAchievements();

        renderMobileTasks();
        renderMobileCategories();
        renderMobileAchievements();
        updateMobileCategorySelect();
        updateMobileStats();

        showToast('üóëÔ∏è T√ºm veriler temizlendi!');
    }
    closeMobileSettings();
}

function showMobileDetailedStats() {
    const completedTasks = tasks.filter(t => t.completed).length;
    const pendingTasks = tasks.filter(t => !t.completed).length;
    const totalTime = tasks.reduce((sum, task) => sum + (task.timeSpent || 0), 0);
    const overdueTasks = tasks.filter(t => t.dueDate && new Date(t.dueDate) < new Date() && !task.completed).length;

    const statsHTML = `
        <div style="padding: 20px;">
            <h3 style="color: #667eea; margin-bottom: 20px; text-align: center;">üìä Detaylƒ± ƒ∞statistikler</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;">
                <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 5px;">üìä</div>
                    <div style="font-size: 18px; font-weight: bold; color: #1976d2;">${tasks.length}</div>
                    <div style="color: #666; font-size: 12px;">Toplam G√∂rev</div>
                </div>
                <div style="background: linear-gradient(135deg, #e8f5e8, #d4edda); padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 5px;">‚úÖ</div>
                    <div style="font-size: 18px; font-weight: bold; color: #388e3c;">${completedTasks}</div>
                    <div style="color: #666; font-size: 12px;">Tamamlanan</div>
                </div>
                <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 5px;">‚è±Ô∏è</div>
                    <div style="font-size: 18px; font-weight: bold; color: #f57c00;">${Math.floor(totalTime / 60)}sa ${totalTime % 60}dk</div>
                    <div style="color: #666; font-size: 12px;">Toplam Zaman</div>
                </div>
                <div style="background: linear-gradient(135deg, #ffebee, #ffcdd2); padding: 15px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 5px;">‚è∞</div>
                    <div style="font-size: 18px; font-weight: bold; color: #d32f2f;">${overdueTasks}</div>
                    <div style="color: #666; font-size: 12px;">Geciken</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="closeMobileStats()" style="background: #6c757d; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">Kapat</button>
            </div>
        </div>
    `;

    const modal = document.createElement('div');
    modal.id = 'mobile-stats-modal';
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(5px);
    `;
    modal.innerHTML = `<div style="background: white; border-radius: 16px; max-width: 90vw; max-height: 80vh; overflow-y: auto;">${statsHTML}</div>`;

    document.body.appendChild(modal);
    closeMobileQuickActions();
}

function closeMobileStats() {
    const modal = document.getElementById('mobile-stats-modal');
    if (modal) {
        modal.remove();
    }
}

function showMobileHelp() {
    const helpHTML = `
        <div style="padding: 20px;">
            <h3 style="color: #667eea; margin-bottom: 20px;">üìö Mobil Kullanƒ±m Kƒ±lavuzu</h3>
            <div style="margin-bottom: 20px;">
                <h4>üéØ Temel Kullanƒ±m</h4>
                <p>√úst kƒ±sƒ±mda g√∂rev ekleyin, orta kƒ±sƒ±mda g√∂revlerinizi g√∂r√ºn, alt kƒ±sƒ±mda hƒ±zlƒ± eri≈üim ara√ßlarƒ± bulun.</p>
            </div>
            <div style="margin-bottom: 20px;">
                <h4>üì± Mobil √ñzellikler</h4>
                <ul style="line-height: 1.6;">
                    <li>‚Ä¢ Dokunmatik optimizasyon</li>
                    <li>‚Ä¢ Kolay navigasyon</li>
                    <li>‚Ä¢ Hƒ±zlƒ± i≈ülemler men√ºs√º</li>
                    <li>‚Ä¢ Tema deƒüi≈ütirici</li>
                    <li>‚Ä¢ AI asistan</li>
                    <li>‚Ä¢ Ba≈üarƒ±m sistemi</li>
                </ul>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="closeMobileHelp()" style="background: #6c757d; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">Anladƒ±m</button>
            </div>
        </div>
    `;

    const modal = document.createElement('div');
    modal.id = 'mobile-help-modal';
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(5px);
    `;
    modal.innerHTML = `<div style="background: white; border-radius: 16px; max-width: 90vw; max-height: 80vh; overflow-y: auto;">${helpHTML}</div>`;

    document.body.appendChild(modal);
    closeMobileQuickActions();
}

function closeMobileHelp() {
    const modal = document.getElementById('mobile-help-modal');
    if (modal) {
        modal.remove();
    }
}

// AI Asistan fonksiyonlarƒ±
function toggleMobileAI() {
    const chat = document.getElementById('mobile-ai-chat');
    const toggleBtn = document.getElementById('mobile-ai-toggle-btn');

    if (chat.classList.contains('show')) {
        chat.classList.remove('show');
        toggleBtn.classList.remove('active');
    } else {
        chat.classList.add('show');
        toggleBtn.classList.add('active');
    }
}

function sendMobileAIMessage() {
    const input = document.getElementById('mobile-ai-input');
    const message = input.value.trim();

    if (message) {
        addMobileAIMessage(message, 'user');
        input.value = '';

        setTimeout(() => {
            const response = generateMobileAIResponse(message);
            addMobileAIMessage(response, 'ai');
        }, 1000 + Math.random() * 1000);
    }
}

function handleMobileAIKeyPress(event) {
    if (event.key === 'Enter') {
        sendMobileAIMessage();
    }
}

function addMobileAIMessage(text, type) {
    const messages = document.getElementById('mobile-ai-chat-messages');
    if (!messages) return;

    const messageDiv = document.createElement('div');
    messageDiv.className = `mobile-ai-message ${type}`;

    const now = new Date();
    const time = now.toLocaleTimeString('tr-TR', {
        hour: '2-digit',
        minute: '2-digit'
    });

    messageDiv.innerHTML = `
        <div class="mobile-ai-message-avatar">${type === 'user' ? 'üë§' : 'ü§ñ'}</div>
        <div class="mobile-ai-message-content">
            <div class="mobile-ai-message-text">${text}</div>
            <div class="mobile-ai-message-time">${time}</div>
        </div>
    `;

    messages.appendChild(messageDiv);
    messages.scrollTop = messages.scrollHeight;

    // Konu≈üma ge√ßmi≈üini kaydet
    aiConversationHistory.push({ text, type, time });
    localStorage.setItem('todo_pro_mobile_ai_history', JSON.stringify(aiConversationHistory));
}

function generateMobileAIResponse(message) {
    const lowerMessage = message.toLowerCase();

    if (lowerMessage.includes('merhaba') || lowerMessage.includes('selam')) {
        return 'Merhaba! üì± Mobil To-Do PRO asistanƒ±nƒ±zƒ±m. G√∂rev y√∂netimi, kategoriler, zaman takibi ve diƒüer √∂zellikler hakkƒ±nda sorularƒ±nƒ±zƒ± yanƒ±tlayabilirim.';
    }

    if (lowerMessage.includes('g√∂rev') && (lowerMessage.includes('ekle') || lowerMessage.includes('yeni'))) {
        return 'üìù Yeni g√∂rev eklemek i√ßin: √úst kƒ±sƒ±mdaki input alanƒ±na g√∂rev metnini yazƒ±n, √∂ncelik seviyesini se√ßin, kategori belirleyin, biti≈ü tarihi ekleyin ve "EKLE" butonuna basƒ±n!';
    }

    if (lowerMessage.includes('zaman') || lowerMessage.includes('takip')) {
        return '‚è±Ô∏è Zaman takibi i√ßin: G√∂reve ‚è±Ô∏è butonuna tƒ±klayarak zaman takibi ba≈ülatƒ±n. Ye≈üil animasyon aktif olduƒüunu g√∂sterir. Tekrar tƒ±klayarak zamanƒ± kaydedin.';
    }

    if (lowerMessage.includes('kategori')) {
        return 'üìÇ Kategoriler g√∂revlerinizi organize etmenizi saƒülar. Kategori b√∂l√ºm√ºnden yeni kategori ekleyebilir, kategoriye tƒ±klayarak filtreleyebilirsiniz.';
    }

    if (lowerMessage.includes('ba≈üarƒ±m')) {
        return 'üèÜ Ba≈üarƒ±mlarƒ±nƒ±zƒ± g√∂r√ºnt√ºlemek i√ßin ba≈üarƒ±mlar b√∂l√ºm√ºne bakƒ±n. G√∂rev tamamladƒ±k√ßa yeni ba≈üarƒ±mlar a√ßƒ±lƒ±r!';
    }

    if (lowerMessage.includes('tema')) {
        return 'üé® Tema deƒüi≈ütirmek i√ßin √ºst kƒ±sƒ±mdaki üé® butonuna tƒ±klayƒ±n. 8 farklƒ± tema se√ßeneƒüi mevcut - hepsi mobil i√ßin optimize edilmi≈ü!';
    }

    if (lowerMessage.includes('mobil') || lowerMessage.includes('telefon')) {
        return 'üì± Bu uygulama tamamen mobil cihazlar i√ßin optimize edilmi≈ütir. Dokunmatik dostu aray√ºz, hƒ±zlƒ± i≈ülemler ve mobil-first tasarƒ±m ile m√ºkemmel bir deneyim sunar.';
    }

    return `ü§ñ "${message}" hakkƒ±nda yardƒ±mcƒ± olmaya √ßalƒ±≈üayƒ±m. Mobil To-Do PRO ile ilgili sorularƒ±nƒ±zƒ± sorun!`;
}

// Giri≈ü sistemi
function showMobileLogin() {
    const loginHTML = `
        <div style="padding: 30px; max-width: 350px; margin: 0 auto;">
            <h3 style="color: #667eea; margin-bottom: 25px; text-align: center;">üîê Giri≈ü Yap</h3>
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <button onclick="showMobileLoginForm()" style="flex: 1; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: 600;">Giri≈ü Yap</button>
                <button onclick="showMobileRegisterForm()" style="flex: 1; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: 600;">Kaydol</button>
            </div>
            <div id="mobile-auth-form-container">
                <div id="mobile-login-form" style="display: none;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; color: var(--text-primary); font-weight: 500;">ƒ∞sim</label>
                        <input type="text" id="mobile-login-name" placeholder="ƒ∞sminizi girin" style="width: 100%; padding: 12px; border: 2px solid #e1e8ed; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; color: var(--text-primary); font-weight: 500;">≈ûifre</label>
                        <input type="password" id="mobile-login-password" placeholder="≈ûifrenizi girin" style="width: 100%; padding: 12px; border: 2px solid #e1e8ed; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                    </div>
                    <button onclick="mobileLogin()" style="width: 100%; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 14px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;">Giri≈ü Yap</button>
                </div>
                <div id="mobile-register-form" style="display: none;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; color: var(--text-primary); font-weight: 500;">ƒ∞sim</label>
                        <input type="text" id="mobile-register-name" placeholder="ƒ∞sminizi girin" style="width: 100%; padding: 12px; border: 2px solid #e1e8ed; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; color: var(--text-primary); font-weight: 500;">≈ûifre</label>
                        <input type="password" id="mobile-register-password" placeholder="≈ûifre olu≈üturun" style="width: 100%; padding: 12px; border: 2px solid #e1e8ed; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                    </div>
                    <button onclick="mobileRegister()" style="width: 100%; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; padding: 14px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;">Kaydol</button>
                </div>
            </div>
            <div style="margin-top: 20px; text-align: center;">
                <button onclick="closeMobileLogin()" style="background: none; border: none; color: #666; cursor: pointer; text-decoration: underline;">ƒ∞ptal</button>
            </div>
        </div>
    `;

    const modal = document.createElement('div');
    modal.id = 'mobile-login-modal';
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        backdrop-filter: blur(5px);
    `;
    modal.innerHTML = `<div style="background: white; border-radius: 16px; width: 90vw; max-width: 400px;">${loginHTML}</div>`;

    document.body.appendChild(modal);
}

function showMobileLoginForm() {
    document.getElementById('mobile-login-form').style.display = 'block';
    document.getElementById('mobile-register-form').style.display = 'none';
}

function showMobileRegisterForm() {
    document.getElementById('mobile-register-form').style.display = 'block';
    document.getElementById('mobile-login-form').style.display = 'none';
}

function mobileLogin() {
    const name = document.getElementById('mobile-login-name').value.trim();
    const password = document.getElementById('mobile-login-password').value.trim();

    if (!name || !password) {
        showToast('‚ö†Ô∏è L√ºtfen isim ve ≈üifre girin!');
        return;
    }

    const users = JSON.parse(localStorage.getItem('todo_pro_mobile_users') || '[]');
    const user = users.find(u => u.name === name && u.password === password);

    if (user) {
        currentUser = user;
        localStorage.setItem('todo_pro_mobile_current_user', JSON.stringify(user));
        updateMobileUserUI();
        showToast(`‚úÖ Ho≈ü geldiniz, ${user.name}!`);
        closeMobileLogin();
    } else {
        showToast('‚ùå ƒ∞sim veya ≈üifre yanlƒ±≈ü!');
    }
}

function mobileRegister() {
    const name = document.getElementById('mobile-register-name').value.trim();
    const password = document.getElementById('mobile-register-password').value.trim();

    if (!name || !password) {
        showToast('‚ö†Ô∏è L√ºtfen isim ve ≈üifre girin!');
        return;
    }

    if (password.length < 4) {
        showToast('‚ö†Ô∏è ≈ûifre en az 4 karakter olmalƒ±!');
        return;
    }

    const users = JSON.parse(localStorage.getItem('todo_pro_mobile_users') || '[]');
    const existingUser = users.find(u => u.name === name);

    if (existingUser) {
        showToast('‚ùå Bu isim zaten kullanƒ±lƒ±yor!');
        return;
    }

    const newUser = {
        id: Date.now().toString(),
        name: name,
        password: password,
        created: new Date().toISOString()
    };

    users.push(newUser);
    localStorage.setItem('todo_pro_mobile_users', JSON.stringify(users));

    currentUser = newUser;
    localStorage.setItem('todo_pro_mobile_current_user', JSON.stringify(newUser));

    updateMobileUserUI();
    showToast(`‚úÖ Kayƒ±t ba≈üarƒ±lƒ±! Ho≈ü geldiniz, ${newUser.name}!`);
    closeMobileLogin();
}

function closeMobileLogin() {
    const modal = document.getElementById('mobile-login-modal');
    if (modal) {
        modal.remove();
    }
}

function updateMobileUserUI() {
    const loginBtn = document.getElementById('mobile-login-btn');
    if (loginBtn) {
        if (currentUser) {
            loginBtn.innerHTML = `üë§ ${currentUser.name}`;
        } else {
            loginBtn.innerHTML = 'üîê';
        }
    }
}

function loadMobileUserData() {
    const savedUser = localStorage.getItem('todo_pro_mobile_current_user');
    if (savedUser) {
        currentUser = JSON.parse(savedUser);
    }

    // AI konu≈üma ge√ßmi≈üini y√ºkle
    const savedHistory = localStorage.getItem('todo_pro_mobile_ai_history');
    if (savedHistory) {
        aiConversationHistory = JSON.parse(savedHistory);
        // Son 10 mesajƒ± g√∂ster
        aiConversationHistory.slice(-10).forEach(msg => {
            addMobileAIMessage(msg.text, msg.type);
        });
    }
}

// Uygulama ba≈ülatma
function initMobileApp() {
    console.log('üöÄ Mobile To-Do PRO ba≈ülatƒ±lƒ±yor...');

    // Verileri y√ºkle
    loadTasks();
    loadCategories();
    loadAchievements();
    loadMobileUserData();

    // UI'yi ba≈ülat
    renderMobileTasks();
    renderMobileCategories();
    renderMobileAchievements();
    updateMobileCategorySelect();
    updateMobileStats();
    updateMobileUserUI();

    // Kayƒ±tlƒ± temayƒ± y√ºkle
    const savedTheme = localStorage.getItem('todo_pro_mobile_theme');
    if (savedTheme) {
        setMobileTheme(savedTheme);
    }

    // Mobil optimizasyonlar
    if ('ontouchstart' in window) {
        document.addEventListener('touchstart', function() {}, { passive: true });
    }

    // Welcome mesajƒ±
    setTimeout(() => {
        showToast('üì± Mobile To-Do PRO\'ya ho≈ü geldiniz!');
    }, 1000);

    console.log('‚úÖ Mobile To-Do PRO ba≈üarƒ±yla y√ºklendi!');
}

// Sayfa y√ºklendiƒüinde uygulamayƒ± ba≈ülat
document.addEventListener('DOMContentLoaded', initMobileApp);
    </script>
